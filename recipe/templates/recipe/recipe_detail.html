{% extends 'base.html' %} {% block content %}
<div class="card mb-4 shadow-sm">
    {% if recipe.image %}
    <img src="{{ recipe.image.url }}" class="card-img-top img-fluid" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞" style="max-height: 300px; object-fit: cover; width: 100%;"> {% endif %}
    <div class="card-body">
        <h2 class="card-title d-flex justify-content-between align-items-center">
            {{ recipe.title }} {% if user.is_authenticated %}
            <form method="post" action="{% url 'toggle_favorite' recipe.id %}">
                {% csrf_token %} {% if is_favorite %}
                <button type="submit" class="btn btn-sm btn-outline-danger">–£–¥–∞–ª–∏—Ç—å ‚ô•</button> {% else %}
                <button type="submit" class="btn btn-sm btn-outline-primary">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ ü§ç</button> {% endif %}
            </form>
            {% endif %}
        </h2>

        <p><strong>–ê–≤—Ç–æ—Ä:</strong> {{ recipe.author.username }}</p>
        <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ recipe.description }}</p>

        {% if recipe.ingredients.all %}
        <p><strong>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</strong></p>
        <ul>
            {% for ingredient in recipe.ingredients.all %}
            <li>{{ ingredient.name }}</li>
            {% endfor %}
        </ul>
        {% else %}
        <p><strong>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</strong> –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã.</p>
        {% endif %}

        <p><strong>–®–∞–≥–∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è:</strong></p>
        <p>{{ recipe.steps|linebreaks }}</p>

        <p><strong>–í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è:</strong> {{ recipe.cooking_time }} –º–∏–Ω—É—Ç</p>

        {% if recipe.categories.all %}
        <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</strong> {% for cat in recipe.categories.all %}
            <span class="badge bg-secondary me-1">{{ cat.name }}</span> {% endfor %}
        </p>
        {% endif %} {% if user.is_authenticated and user == recipe.author %}
        <a href="{% url 'edit_recipe' recipe.id %}" class="btn btn-warning btn-sm">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
        <a href="{% url 'delete_recipe' recipe.id %}" class="btn btn-danger btn-sm ms-2">–£–¥–∞–ª–∏—Ç—å</a> {% endif %}
    </div>
</div>
{% endblock %}